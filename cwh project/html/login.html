<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet"  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <title>Subscribe</title>
    <link rel="icon" type="image/x-icon" href="../addtocardv2/image/logo.jpg">
    <link rel="stylesheet" href="../css/login.css">
</head>
<body>
    <h1 onclick="closeCurrentTab()"><span class="material-symbols-outlined">
            arrow_back
        </span></h1>

    <form name="google-sheet" onsubmit="return valid()">
        <div class="box">
            <div class="container1">

                <div class="top">
                    <header class="header1">SUBSCRIBE</header>
                </div>

                <div class="input-field" id="first">
                    <input type="text" class="input" placeholder="Phone Number" id="phone" name="phone">
                    <i class="material-icons">call</i>
                    <span id="phone error" class="hidden"></span>
                </div>
                <div class="input-field">
                    <input type="Password" class="input" placeholder="Password" id="pass" name="pass">
                    <i class='material-icons'>lock</i>
                    <span id="pass error" class="hidden"></span>
                </div>
                <div class="input-field">
                    <input type="Password" class="input" placeholder="Confirm Password" id="confirm pass" name="cp">
                    <i class='material-icons'>lock</i>
                    <span id="confirm error" class="hidden"></span>
                </div>

                <div class="input-field" id="form">
                    <input type="submit" class="submit" value="Login" id="btnsubmit" name="">
                </div>

                <div class="two-col">
                    <div class="one">
                        <input type="checkbox" name="" id="check">
                        <label for="check"> Remember Me</label>
                    </div>
                    <div class="two">
                        <label><a href="#">Forgot password?</a></label>
                    </div>
                </div>
                <span class="span">Have an account?</span>
            </div>
        </div>
    </form>
    <script>

        const scriptURL = 'https://script.google.com/macros/s/AKfycbyzV3FWsdyC1-5JSAa_H9CCFkKuxFlxOHRXywPD5MsGv5QhJc1exU0yhDFQ0fG6y8-q/exec'
        const form = document.forms['google-sheet']

        form.addEventListener('submit', e => {
            fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                .catch(error => console.error('Error!', error.message))
        })



        function valid() {
            var phone = document.getElementById("phone");
            var pass = document.getElementById("pass");
            var cp = document.getElementById("confirm pass");
            if (phone.value == "") {
                alert("Please Enter The Phone Number")
                document.getElementById("phone").style.border = '2px solid red';
                document.getElementById("phone error").innerHTML = "Please Enter The Phone Number";
                return false;
            }
            else if (phone.value.length != 10) {
                alert(" Phone Number is Incorrect")
                document.getElementById("phone").style.border = '2px solid red';
                document.getElementById("phone error").innerHTML = "Phone Number is Incorrect";
                return false;
            }
            else if (isNaN(phone.value)) {
                alert("Please Enter Phone Number in numeric")
                document.getElementById("phone").style.border = "2px red solid";
                document.getElementById("phone error").innerHTML = "Please Enter Phone Number in numeric"
                return false;
            }
            else if (pass.value == "") {
                alert("Please enter the password")
                document.getElementById("pass").style.border = '2px solid red';
                document.getElementById("pass error").innerHTML = '"Please enter the password';
                return false;
            }
            else if (pass.value < 6) {
                alert("Please enter the password ccorrectly")
                document.getElementById("pass").style.border = '2px solid red';
                document.getElementById("pass error").innerHTML = "Please enter the password correctly";
                return false;
            }
            else if (pass.value != cp.value) {
                alert("Password and confirm password doesn't match")
                document.getElementById("confirm pass").style.border = '2px solid red';
                document.getElementById("confirm error").innerHTML = "Please enter confirm password correctly";
                return false;
            }
            else {
                alert("succesfuly submitted");
            }
        }
    </script>
</body>

</html>